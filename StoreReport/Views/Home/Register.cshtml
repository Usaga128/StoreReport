<h4>
    @{

        ViewData["Title"] = "Registrar Producto";

    }
</h4>
<h4>@ViewData["Title"]</h4>
<h4>@ViewData["Message"]</h4>

<title>Registro de producto.</title>
<div class="form-group">
    <label for="codReportLabel">Reporte</label> <label for="codReport">#99832</label>
    <label for="codRutaLabel">Ruta</label> <label for="codRuta">#RUTA HEREDIA CENTRO</label>

</div>

<!-- Contenido de reporte -->
<div class="container">
    <div class="panel-group">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" href="#collapse1">Información del producto</a>
                </h4>
            </div>
            <div id="collapse1" class="panel-collapse collapse">
                <div class="panel-body">
                    <div class="form-group">
                        <label for="sel1">Comercio:</label>
                        <select class="form-control" id="sel1">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3132</option>
                            <option>4123</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3123</option>
                            <option>4</option>
                            <option>123</option>
                            <option>2123</option>
                            <option>3231</option>
                            <option>4123</option>
                            <option>1231</option>
                            <option>1232</option>
                            <option>3</option>
                            <option>4</option>
                            <option>3132</option>
                            <option>4123</option>
                            <option>1</option>
                            <option>2</option>
                            <option>3123</option>
                            <option>4</option>
                            <option>123</option>
                            <option>2123</option>
                            <option>3231</option>
                            <option>4123</option>
                            <option>1231</option>
                            <option>1232</option>
                            <option>3</option>
                            <option>4</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="sel1">Producto:</label>  <select class="form-control" id="sel1">
                            <option>1</option>
                            <option>2</option>
                            <option>3</option>
                            <option>4</option>
                        </select>
                        <label for="sel1">Pregunta:</label>
                        <br>
                        <label class="checkbox-inline"><input type="checkbox" value="">Option 1</label>
                        <label class="checkbox-inline"><input type="checkbox" value="">Option 2</label>
                        <label class="checkbox-inline"><input type="checkbox" value="">Option 3</label>
                        <div class="form-group">
                            <label for="comment">Comment:</label>
                            <textarea class="form-control" rows="2" id="comment"></textarea>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>



<div class="container">
    <div class="panel-group">
        <div class="panel panel-default">
            <div class="panel-heading">
                <h4 class="panel-title">
                    <a data-toggle="collapse" href="#collapse2">Tomar fotografía.</a>
                </h4>
            </div>
            <div id="collapse2" class="panel-collapse collapse">
                <div class="panel-body">
                    <!-- Contenido de fotografia-->

                    <div class="form-group">


                        <div class="divTable" style="justify-content:center">
                            <label for="codReportLabel">Comercio</label> <label for="codReport">#MAS X MENOS SANTA ANA</label>
                            <label for="codRutaLabel">Porducto</label> <label for="codRuta">PAPEL 4X2 TOALLA</label>

                            <div class="divTableBody">
                                <div class="divTableRow">
                                    <div class="divTableCell">
                                        <video id="video" width="250" height="250" autoplay class="centercontrols"></video>
                                    </div>
                                </div>

                                <button id="snap" class="btn btn-success centercontrols" data-toggle="modal" data-target="#myModal">Continuar</button>
                               
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="modal fade" id="myModal" role="dialog">
        <div class="modal-dialog">

            <!-- Modal content-->
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal">&times;</button>
                    <h4 class="modal-title">Detalle de reporte</h4>
                </div>
                <div class="modal-body">
                    <div class="divTableRow">
                        <div class="divTableCell">
                            <canvas id="canvas" width="250" height="250" class="centercontrols"></canvas>
                        </div>
                        <div class="divTableCell">
                            <label for="codReportModDate">Fecha hora</label> <label for="codModDate">22/04/2018 21:22:22 pm</label>
                        </div>
                        <div class="divTableCell">
                            <label for="codReportModLabel">Comercio</label> <label for="codModReport">#MAS X MENOS SANTA ANA</label>
                        </div>
                        <div class="divTableCell">
                            <label for="codProductModLabel">Porducto</label> <label for="codModProduct">PAPEL 4X2 TOALLA</label>
                        </div>
                        <div class="divTableCell">
                            <label for="codNoteLabel">Nota</label> <label for="codModNote">No hay papel de toalla en los lugares donde dbe estar.</label>
                        </div>
                        <div class="divTableCell">
                            <label for="codExtraLabel">Extra</label> <label for="codExtraLabel">Pregunta 1, No hay, Si hay , no tiene</label>
                        </div>
                    </div>
                </div>

                <div class="modal-footer">
                    <button type="button" class="btn btn-success" data-dismiss="modal">Enviar Información</button>
                    <button type="button" class="btn btn-danger" data-dismiss="modal">Cerrar</button>
                </div>
            </div>

        </div>
    </div>
</div>

<script>
    // Put event listeners into place
    window.addEventListener("DOMContentLoaded", function () {
        // Grab elements, create settings, etc.
        var canvas = document.getElementById('canvas');
        var context = canvas.getContext('2d');
        var video = document.getElementById('video');
        var mediaConfig = { video: true };
        var errBack = function (e) {
            console.log('An error has occurred!', e)
        };

        // Put video listeners into place
        if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
            navigator.mediaDevices.getUserMedia({
                video: true
            })
                .then(function (stream) {
                    video.srcObject = stream;
                })
                .catch(function (error) {
                    console.log('error', error);
                });

        }



        /* Legacy code below! */
        else if (navigator.getUserMedia) { // Standard
            navigator.getUserMedia(mediaConfig, function (stream) {
                video.src = stream;
                video.play();
            }, errBack);
        } else if (navigator.webkitGetUserMedia) { // WebKit-prefixed
            navigator.webkitGetUserMedia(mediaConfig, function (stream) {
                video.src = window.webkitURL.createObjectURL(stream);
                video.play();
            }, errBack);
        } else if (navigator.mozGetUserMedia) { // Mozilla-prefixed
            navigator.mozGetUserMedia(mediaConfig, function (stream) {
                video.src = window.URL.createObjectURL(stream);
                video.play();
            }, errBack);
        }

        // Trigger photo take
        document.getElementById('snap').addEventListener('click', function () {
            context.drawImage(video, 25, 0, 250, 200);
        });
    }, false);

</script>

